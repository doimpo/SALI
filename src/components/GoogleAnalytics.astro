---
// Google Analytics component
// Replace 'G-XXXXXXXXXX' with your actual Google Analytics 4 tracking ID
const trackingId = 'G-XXXXXXXXXX'; // TODO: Replace with actual GA4 tracking ID
---

{trackingId !== 'G-XXXXXXXXXX' && (
  <>
    <!-- Google tag (gtag.js) -->
    <script async src={`https://www.googletagmanager.com/gtag/js?id=${trackingId}`}></script>
    <script is:inline define:vars={{ trackingId }}>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', trackingId, {
        page_title: document.title,
        page_location: window.location.href
      });
    </script>

    <!-- Google Analytics Enhanced Ecommerce (if needed for medical appointments) -->
    <script is:inline define:vars={{ trackingId }}>
      // Track page views
      gtag('event', 'page_view', {
        page_title: document.title,
        page_location: window.location.href,
        page_path: window.location.pathname
      });

      // Track medical service interest (can be called from buttons/forms)
      window.trackServiceInterest = function(serviceName) {
        gtag('event', 'select_content', {
          content_type: 'medical_service',
          item_id: serviceName,
          item_name: serviceName
        });
      };

      // Track appointment interest
      window.trackAppointmentInterest = function() {
        gtag('event', 'generate_lead', {
          currency: 'INR',
          value: 0,
          event_category: 'engagement',
          event_label: 'appointment_interest'
        });
      };

      // Track emergency contact
      window.trackEmergencyContact = function() {
        gtag('event', 'contact', {
          event_category: 'engagement',
          event_label: 'emergency_contact'
        });
      };
    </script>
  </>
)}
